function initAudio(a){var b=a.attr("song"),c=a.text(),d=a.attr("artist"),e=a.attr("cover");audio=new Audio(b),audio.currentTime||$("#duration").html("0:00"),$("#audio-player .title").text(c),$("#audio-player .artist").text(d),$("img.cover").attr("src","assets/img/covers/"+e),$("#playlist li").removeClass("active"),a.addClass("active")}function showDuration(){$(audio).bind("timeupdate",function(){var a=parseInt(audio.currentTime%60),b=parseInt(audio.currentTime/60)%60;a<10&&(a="0"+a),$("#duration").html(b+":"+a);var c=0;audio.currentTime>0&&(c=Math.floor(100/audio.duration*audio.currentTime)-20),$("#progress").css("width",c+"%"),audio.currentTime===audio.duration&&autoplay()})}function autoplay(){if(audio.currentTime>=audio.duration){var a=$("#playlist li.active").next();initAudio(a),audio.play(),showDuration()}}$(document).ready(function(){$('a[href^="#"]').on("click",function(a){a.preventDefault();var b=this.hash,c=$(b);$("html, body").stop().animate({scrollTop:c.offset().top},900,"swing")})}),$(".btn-drop").click(function(){$("#drop-down").toggleClass("menu-displayed")});var audio;$("#pause").hide(),initAudio($("#playlist li:first-child")),$("#play").click(function(){audio.play(),$("#play").hide(),$("#pause").show(),$("#duration").fadeIn(400),showDuration()}),$("#pause").click(function(){audio.pause(),$("#pause").hide(),$("#play").show(),$("#duration").fadeIn(400),showDuration()}),$("#stop").click(function(){audio.pause(),audio.currentTime=0,$("#pause").hide(),$("#play").show(),$("#duration").fadeOut(400),showDuration()}),$("#next").click(function(){audio.pause();var a=$("#playlist li.active").next();0==a.length&&(a=$("#playlist li:first-child")),$("#play").hide(),$("#pause").show(),initAudio(a),audio.play(),$("#duration").fadeIn(400),showDuration()}),$("#forward").click(function(){audio.currentTime>0&&(audio.currentTime+=5)}),$("#rewind").click(function(){audio.currentTime-=5}),$("#prev").click(function(){audio.pause();var a=$("#playlist li.active").prev();0==a.length&&(next=$("#playlist li:last-child")),$("#play").hide(),$("#pause").show(),initAudio(a),audio.play(),$("#duration").fadeIn(400),showDuration()}),$("#volume").change(function(){audio.volume=parseFloat(this.value/10)}),$("#playlist li").click(function(){audio.pause();var a=$(this);initAudio(a),audio.play(),$("#play").hide(),$("#pause").show(),$("#duration").fadeIn(400),showDuration()});